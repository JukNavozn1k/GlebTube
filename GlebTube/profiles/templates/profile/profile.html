{% extends 'index.html' %}

{% block title %} {{user}} - GlebTube {% endblock %}

{% block content %}
{% load user_filters %}
{% csrf_token %}
<div>
    <div class="container">
      <div class="text-center py-5">
        <img src="{{user.avatar| parse_avatar}}" width="120" height="120" alt class="ui-w-100 rounded-circle">
        <div class="col-md-8 col-lg-6 col-xl-5 p-0 mx-auto">
          <h4 class="font-weight-bold my-4">{{user.username}}</h4>
  
          <div class="text-muted mb-4" style="word-wrap: break-word;">
            {{user.profile_description}}
          </div>
          <div class="alert_container">
            
          </div>

          <div class="profile_menu">
            {% include 'profile/profile_menu.html' %}
        </div>
        </div>
        <br>

        <hr class="m-0">
      </div>

  <!-- Tabs navs -->
<ul class="nav nav-tabs nav-fill mb-3" id="ex1" role="tablist">
  <li class="nav-item" role="presentation">
    <a
      data-mdb-tab-init
      class="nav-link active"
      id="ex2-tab-1"
      href="#ex2-tabs-1"
      role="tab"
      aria-controls="ex2-tabs-1"
      aria-selected="true"
      ><i class="bi bi-camera-reels-fill"></i> Видео</a
    >
  </li>
  <li class="nav-item" role="presentation">
    <a
      data-mdb-tab-init
      class="nav-link"
      id="ex2-tab-2"
      href="#ex2-tabs-2"
      role="tab"
      aria-controls="ex2-tabs-2"
      aria-selected="false"
      ><i class="bi bi-star-fill"></i> Понравилось</a
    >
  </li>
  <li class="nav-item" role="presentation">
    <a
      data-mdb-tab-init
      class="nav-link"
      id="ex2-tab-3"
      href="#ex2-tabs-3"
      role="tab"
      aria-controls="ex2-tabs-3"
      aria-selected="false"
      ><i class="bi bi-hourglass-split"></i> История</a
    >
  </li>
</ul>
<!-- Tabs navs -->

<!-- Tabs content -->
<div class="tab-content" id="ex2-content">
  <div
    class="tab-pane fade show active"
    id="ex2-tabs-1"
    role="tabpanel"
    aria-labelledby="ex2-tab-1"
    hx-get="{% url 'user_videos' user.id %}" hx-trigger="revealed" hx-swap="innerHTML"
  >
    {% include 'spinners/loading_spinner_htmx.html' %}
    <p class="text-muted"> Видео загружаются... </p>
  </div>
  <div
    class="tab-pane fade"
    id="ex2-tabs-2"
    role="tabpanel"
    aria-labelledby="ex2-tab-2"
    hx-get="{% url 'user_liked' user.id %}" hx-trigger="revealed" hx-swap="innerHTML"
  >
  {% include 'spinners/loading_spinner_htmx.html' %}
  <p class="text-muted"> Видео загружаются... </p>
  </div>
  <div
    class="tab-pane fade"
    id="ex2-tabs-3"
    role="tabpanel"
    aria-labelledby="ex2-tab-3"
    hx-get="{% url 'history' user.id %}" hx-trigger="revealed" hx-swap="innerHTML"
  >
  {% include 'spinners/loading_spinner_htmx.html' %}
  <p class="text-muted"> Видео загружаются... </p>
  </div>
</div>
<!-- Tabs content -->



</div>
</div>

{% endblock %}