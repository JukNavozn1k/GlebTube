{% extends 'index.html' %}


{% block content %}
{% csrf_token %}
<div class="bg-white">
    <div class="container">
      <div class="text-center py-5">
        <img src="https://upload.wikimedia.org/wikipedia/commons/3/3f/Israeli_blue_Star_of_David.png" width="120" alt class="ui-w-100 rounded-circle">
  
        <div class="col-md-8 col-lg-6 col-xl-5 p-0 mx-auto">
          <h4 class="font-weight-bold my-4">{{user.username}}</h4>
  
          <div class="text-muted mb-4">
            Здесь будет замечательное описание, когда-нибудь...
          </div>
          <span class="profile_buttons">
              {% if isOwner %}
              <button type="button" class="btn btn-warning btn-sm" onclick="alert('В разработке...')">
                Редактировать профиль
              </button>
              <button type="button" 
              hx-confirm="Вы уверены, что хотите очистить историю?" 
              hx-delete="/delete/history" 
              hx-swap="none"
              hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'         
              class="btn btn-danger btn-sm">
                Очистить историю
              </button>
              {% else %}
              <!--SUB/UNSUB BUTTONS-->
              <div id="sub_btn_area" hx-get="/profile_action/{{user.username}}/subscribe" hx-trigger="load" hx-swap="innerHTML">
              </div>
              <!--SUB/UNSUB BUTTONS-->
              {% endif %}
          </span>
         
          <div class="d-flex justify-content-center align-items-center py-4">
            <div>
              <div class="d-inline-block text-dark">
                
                <span class="text-muted">Всего лайков: </span>
                <strong>{{likes_count}}</strong>
              </div>
              
              <div class="d-inline-block text-dark ml-3">
                <span class="text-muted">Всего подписчиков: </span>
                <strong>{{subs_count}}</strong>
              </div>
            </div>
            <div>            
            </div>
          </div>
        </div>


        <div class="text-center">  
        <hr class="m-0">
  
    <ul class="nav nav  justify-content-center">
      <li class="nav-item">
        <a class="nav-link py-4 active" href="#" hx-get="/profile_action/{{user.username}}/videos" hx-trigger="load,click" hx-target=".user_content" >Видео</a>
      </li>
      <li class="nav-item">
        <a class="nav-link py-4" href="#" hx-get="/profile_action/{{user.username}}/liked_videos" hx-target=".user_content">Понравилось</a>
      </li>    
    </ul>


  <div class="user_content">
    <!--HTMX RESPONSE CONTENT-->
  </div>  
  </div>

</div>
</div>
</div>

{% endblock %}