{% extends 'index.html' %}

{% block title %} {{video.caption}} - GlebTube  {% endblock %}

{%block content %}
{% load static %}
{% csrf_token %}

<!-- COMMENT(s) -->


<div class="container mt-5">
  <link rel="stylesheet" a href="{% static '/css/rate_buttons.css' %}"> 
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <div class="card mb-3 border-0">
    <video class="post-video"  alt="Post Video" controls width="640px" height="360px">
      <source src = "{{video.video.url}}" type="video/mp4">
    </video>
    <div class="card-body">
      <h5 class="card-title">{{video.caption}}</h5>
      <h6 class="card-subtitle mb-2 text-muted">Описание</h6>
      <p class="card-text">{{video.description}}</p>
      <p class="card-text"><small class="text-muted">Дата выхода: {{video.date_uploaded}} Количество просмотров: {{video.views}}</small></p>
      <p class="card-text"><small class="text-muted">Автор: {{video.author}}</small></p>
    </div>
  </div>
<div class="post" data-post-id="{{video.id}}">

{% if grade == 0 %}
<div class="post-ratings-container">
  <div class="post-rating">
    <span class="post-rating-button material-icons">thumb_up</span>
    <span class="post-rating-count">{{likes}}</span>
  </div>
  <div class="post-rating">
    <span class="post-rating-button material-icons">thumb_down</span>
    <span class="post-rating-count">{{dislikes}}</span>
  </div>
</div>
{% elif grade == 1 %}
<div class="post-ratings-container">
  <div class="post-rating post-rating-selected">
    <span class="post-rating-button material-icons">thumb_up</span>
    <span class="post-rating-count">{{likes}}</span>
  </div>
  <div class="post-rating">
    <span class="post-rating-button material-icons">thumb_down</span>
    <span class="post-rating-count">{{dislikes}}</span>
  </div>
</div>
{% elif grade == -1 %}
<div class="post-ratings-container">
  <div class="post-rating">
    <span class="post-rating-button material-icons">thumb_up</span>
    <span class="post-rating-count">{{likes}}</span>
  </div>
  <div class="post-rating post-rating-selected">
    <span class="post-rating-button material-icons">thumb_down</span>
    <span class="post-rating-count">{{dislikes}}</span>
  </div>
</div>
{% endif %}

</div>
  <h3>Комментарии ({{comments|length}})</h3>
  
  <div class="bg-white p-2">
    
    <div class="d-flex flex-row align-items-start">
        <img class="rounded-circle" src="{% static 'logo.png' %}" width="40">
        <textarea class="form-control ml-1 shadow-none textarea" id="comment" placeholder="Введите комментарий"></textarea>
    </div>
    <div class="mt-2 text-right">
        <button type="button" id="clearButton" class="btn btn-outline-primary btn-sm shadow-none">Очистить</button>
        <button class="btn btn-primary btn-sm shadow-none" id="sendButton" type="button">Отправить</button>
    </div>
</div>
{% for comment in comments %}  
  <div class="d-flex justify-content-center row">
      <div class="col"> <!--<div class="col-md-8"> -->
          <div class="d-flex flex-column comment-section">
              <div class="bg-white p-2">
                  <div class="d-flex flex-row user-info"><img class="rounded-circle" src="{% static 'logo.png' %}" width="40">
                      <div class="d-flex flex-column justify-content-start ml-2"><span class="d-block font-weight-bold name">{{comment.author}}</span>
                        <span class="date text-black-50">{{comment.date_uploaded}}</span></div>
                  </div>
                  <div class="mt-2">
                      <p class="comment-text">{{comment.content}}</p>
                  </div>
              </div>
              <!--
              <div class="bg-white">
                  <div class="d-flex flex-row fs-12">
                      <div class="like p-2 cursor"><i class="fa fa-thumbs-o-up"></i><span class="ml-1">Like</span></div>
                      <div class="like p-2 cursor"><i class="fa fa-commenting-o"></i><span class="ml-1">Comment</span></div>
                      <div class="like p-2 cursor"><i class="fa fa-share"></i><span class="ml-1">Share</span></div>
                  </div>
              </div> -->
              
              <!--
              <div class="bg-white p-2">
                  <div class="d-flex flex-row align-items-start"><img class="rounded-circle" src="{% static 'logo.png' %}" width="40"><textarea class="form-control ml-1 shadow-none textarea" placeholder="Введите комментарий"></textarea></div>
                  <div class="mt-2 text-right"><button class="btn btn-primary btn-sm shadow-none" type="button">Отправить</button><button class="btn btn-outline-primary btn-sm ml-1 shadow-none" type="button">Свернуть</button></div>
              </div> -->
              
          </div>
      </div>
  </div>
  
  {% endfor %} 
</div>




<script src="{% static '/js/comment_buttons.js' %}"></script>
<script src="{% static '/js/rate_buttons.js' %}"></script>
{% endblock %}